{% extends 'base/base_feed.html' %}

{% block content %}
<style>
    .form_box {
    background-color: #ffffff;
    margin: 10px;
    border-radius: 4px;
    border: 1px solid #ddd;
    padding: 10px;
}
.input_field {
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 4px;
    margin: 3px 0;
    font-size: 14px;
    width: 100%;
}
.textarea_field {
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 4px;
    margin: 3px 0;
    font-size: 14px;
    width: 100%;
    height: 160px;
}
.write_button {
    background-color: #475d9f;
    border: 1px solid #323f6b;
    color: #ffffff;
    border-radius: 4px;
    padding: 2px 8px;
    font-size: 18px;
}


</style>
<div>
    <a href="{% url 'newsfeed' %}">뒤로가기</a>
</div>
<div class="container">
    <div class="form_box">
        <h3>게시물 올리기</h3>
        <input type="text" class="input_field" name="title" id="title" placeholder="제목을 입력해주세요."><br>
        <textarea class="textarea_field" name="text" id="text" placeholder="내용을 입력해주세요."></textarea><br>
        <button type="submit" id="buttonFeed">올리기</button>
    </div>
</div>
{% endblock %}


{% block script %}
<script>
    $(document).ready(function () {
    $('#buttonFeed').click(function() {
        $.post('/apis/v1/feed/create/', {'title': $('#title').val(), 'text': $('#text').val()}, function() {
            alert('게시글을 올렸습니다.');
            window.location = '{% url 'newsfeed' %}';
        }).fail(function(data) {
            alert(data.responseJSON.message);
        });
});
});

</script>
{% endblock %}
