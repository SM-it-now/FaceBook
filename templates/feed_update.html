{% extends 'base/base_feed.html' %}

{% block content %}
<style>
    .form_box {
    background-color: #ffffff;
    margin: 10px;
    border-radius: 4px;
    border: 1px solid #ddd;
    padding: 10px;
}
.input_field {
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 4px;
    margin: 3px 0;
    font-size: 14px;
    width: 100%;
}
.textarea_field {
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 4px;
    margin: 3px 0;
    font-size: 14px;
    width: 100%;
    height: 160px;
}
.write_button {
    background-color: #475d9f;
    border: 1px solid #323f6b;
    color: #ffffff;
    border-radius: 4px;
    padding: 2px 8px;
    font-size: 18px;
}
 .footer {
            border-top: 1px solid #cccccc;
            background-color: #fafafa;
            height: 50px;
            text-align: center;
            position:fixed; bottom: 0; left: 0; right: 0;
        }
        .tab1 {
            float: left;
            width: 25%;
        }
        .tab2 {
            float: left;
            width: 25%;
        }
        .tab3 {
            float: left;
            width: 25%;
        }
        .tab4 {
            float: left;
            width: 25%;
        }
</style>
<div>
    <a href="{% url 'feed_detail' article.id %}">뒤로가기</a>
</div>
<div class="container">
    <div class="form_box">
        <h3>게시물 수정하기</h3>
        <input class="input_field" type="text" name="title" id="title" value="{{ form.title.value }}"><br>
        <textarea class="textarea_field" name="text" id="text">{{ form.text.value }}</textarea><br>
        <input type="hidden" name="pk" id="pk" value="{{ article.id }}">
        <button class="write_button" type="submit" id="buttonUpdate">
            수정하기
        </button>
    </div>
</div>
{% include 'base/footer.html' %}

{% endblock %}

{% block script %}
<script>
    $(document).ready(function () {
    $('#buttonUpdate').click(function() {
        $.post('/apis/v1/feed/update/', {'title': $('#title').val(), 'text': $('#text').val(), 'pk': $('#pk').val()}, function() {
            alert('게시글을 수정하였습니다.');
            window.location = '{% url 'feed_detail' article.id %}';
        }).fail(function(data) {
            alert(data.responseJSON.message);
        });
});
});


</script>
{% endblock %}
